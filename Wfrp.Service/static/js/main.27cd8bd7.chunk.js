(this["webpackJsonplogin-with-github"]=this["webpackJsonplogin-with-github"]||[]).push([[0],{41:function(n,e,t){"use strict";t.r(e);var i=t(1),o=t(0),r=t(21),c=t.n(r),a=t(14),s=t(11),l=t(2),d=t(12),h=t(13);function p(){var n=Object(d.a)(["\n.container{\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  font-family: Arial;\n\n  button{\n    all: unset;\n    width: 100px;\n    height: 35px;\n    margin: 10px 10px 0 0;\n    align-self: flex-end;\n    background-color: #0041C2;\n    color: #fff;\n    text-align: center;\n    border-radius: 3px;\n    border: 1px solid #0041C2;\n\n    &:hover{\n      background-color: #fff;\n      color: #0041C2;\n    }\n  }\n\n  >div{\n    height: 100%;\n    width: 100%;\n    display: flex;\n    font-size: 18px;\n    justify-content: center;\n    align-items: center;\n\n    .content{\n      display: flex;\n      flex-direction: column;\n      padding: 20px 100px;    \n      box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);\n      width: auto;\n  \n      img{\n        height: 150px;\n        width: 150px;\n        border-radius: 50%;\n      }\n  \n      >span:nth-child(2){\n        margin-top: 20px;\n        font-weight: bold;\n      }\n  \n      >span:not(:nth-child(2)){\n        margin-top: 8px;\n        font-size: 14px;\n      }\n  \n    }\n\n  }\n}\n"]);return p=function(){return n},n}function g(){var n=Object(o.useContext)(_),e=n.state,t=n.dispatch;if(!e.isLoggedIn)return Object(i.jsx)(l.a,{to:"/login"});var r=e.user,c=r.avatarUrl,a=r.name,s=r.publicRepos,d=r.followers,h=r.following;return Object(i.jsx)(u,{children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("button",{onClick:function(){t({type:"LOGOUT"})},children:"Logout"}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"content",children:[Object(i.jsx)("img",{src:c,alt:"Avatar"}),Object(i.jsx)("span",{children:a}),Object(i.jsxs)("span",{children:[s," Repos"]}),Object(i.jsxs)("span",{children:[d," Followers"]}),Object(i.jsxs)("span",{children:[h," Following"]})]})})]})})}var u=h.a.section(p()),j=t(7),f=t(25),x=t.n(f);function b(){var n=Object(d.a)(["\n  .container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    font-family: Arial;\n    \n\n    > div:nth-child(1) {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);\n      transition: 0.3s;\n      width: 25%;\n      height: 45%;\n\n      > h1 {\n        font-size: 2rem;\n        margin-bottom: 20px;\n      }\n\n      > span:nth-child(2) {\n        font-size: 1.1rem;\n        color: #808080;\n        margin-bottom: 70px;\n      }\n\n      > span:nth-child(3) {\n        margin: 10px 0 20px;\n        color: red;\n      }\n\n      .login-container {\n        background-color: #000;\n        width: 70%;\n        border-radius: 3px;\n        color: #fff;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        > .login-link {\n          text-decoration: none;\n          color: #fff;\n          text-transform: uppercase;\n          cursor: default;\n          display: flex;\n          align-items: center;          \n          height: 40px;\n\n          > span:nth-child(2) {\n            margin-left: 5px;\n          }\n        }\n\n        .loader-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;          \n          height: 40px;\n        }\n\n        .loader {\n          border: 4px solid #f3f3f3;\n          border-top: 4px solid #3498db;\n          border-radius: 50%;\n          width: 12px;\n          height: 12px;\n          animation: spin 2s linear infinite;\n        }\n\n        @keyframes spin {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n      }\n    }\n  }\n"]);return b=function(){return n},n}function O(){var n=Object(o.useContext)(_),e=n.state,t=n.dispatch,r=Object(o.useState)({errorMessage:"",isLoading:!1}),c=Object(a.a)(r,2),s=c[0],d=c[1],h=e.client_id,p=e.redirect_uri;return Object(o.useEffect)((function(){var n=window.location.href;if(n.includes("?code=")){var i=n.split("?code=");window.history.pushState({},null,i[0]),d(Object(j.a)(Object(j.a)({},s),{},{isLoading:!0}));var o={code:i[1]},r=e.proxy_url+"/signin";fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(n){return n.json()})).then((function(n){t({type:"LOGIN",payload:{user:n,isLoggedIn:!0}})})).catch((function(n){d({isLoading:!1,errorMessage:"Sorry! Login failed"})}))}}),[e,t,s]),e.isLoggedIn?Object(i.jsx)(l.a,{to:"/"}):Object(i.jsx)(m,{children:Object(i.jsx)("section",{className:"container",children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Welcome"}),Object(i.jsx)("span",{children:"Super amazing app"}),Object(i.jsx)("span",{children:s.errorMessage}),Object(i.jsx)("div",{className:"login-container",children:s.isLoading?Object(i.jsx)("div",{className:"loader-container",children:Object(i.jsx)("div",{className:"loader"})}):Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("a",{className:"login-link",href:"https://github.com/login/oauth/authorize?scope=user&client_id=".concat(h,"&redirect_uri=").concat(p,"&scope=user%20repo"),onClick:function(){d(Object(j.a)(Object(j.a)({},s),{},{errorMessage:""}))},children:[Object(i.jsx)(x.a,{}),Object(i.jsx)("span",{children:"Login with GitHub"})]})})})]})})})}var m=h.a.section(b()),y={isLoggedIn:JSON.parse(localStorage.getItem("isLoggedIn"))||!1,user:JSON.parse(localStorage.getItem("user"))||null,client_id:"aa2f6fc73e8f3c32f9eb",redirect_uri:"https://localhost:3000/login",client_secret:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"aa2f6fc73e8f3c32f9eb",REACT_APP_PROXY_URL:"https://localhost:44371",REACT_APP_REDIRECT_URI:"https://localhost:3000/login"}).REACT_APP_CLIENT_SECRET,proxy_url:"https://localhost:44371"},v=function(n,e){switch(e.type){case"LOGIN":return localStorage.setItem("isLoggedIn",JSON.stringify(e.payload.isLoggedIn)),localStorage.setItem("user",JSON.stringify(e.payload.user)),Object(j.a)(Object(j.a)({},n),{},{isLoggedIn:e.payload.isLoggedIn,user:e.payload.user});case"LOGOUT":return localStorage.clear(),Object(j.a)(Object(j.a)({},n),{},{isLoggedIn:!1,user:null});default:return n}},_=Object(o.createContext)();var L=function(){var n=Object(o.useReducer)(v,y),e=Object(a.a)(n,2),t=e[0],r=e[1];return Object(i.jsx)(_.Provider,{value:{state:t,dispatch:r},children:Object(i.jsx)(s.a,{children:Object(i.jsxs)(l.d,{children:[Object(i.jsx)(l.b,{path:"/login",component:O}),Object(i.jsx)(l.b,{path:"/",component:g})]})})})};c.a.render(Object(i.jsx)(L,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.27cd8bd7.chunk.js.map